<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <%- include("partials/header.ejs") %>
    <main>
    <div class="update-cont">
        <div class="add-cont">
            <div class="form-cont">
                <h2>Update Expenses</h2>
                <form action="/update" method="post">
                    <input type="text" name="amount" id="amount" placeholder="Enter your expenses" required>
                    <select name="category" required>
                        <option value="" disabled selected>Select a category</option>
                        <option value="food">Food</option>
                        <option value="shopping">Shopping</option>
                        <option value="rent">Fixed expenses (Rent,Fees,EMI's)</option>
                        <option value="medical">Medical</option>
                        <option value="other">Other</option>
                    </select>
                    <input type="date" name="date" required>
                    <input type="text" name="notes" placeholder="Notes (optional)">
                    <div class="btncont">
                        <button type="submit">Submit</button>
                    </div>
                </form>
            </div>
        </div>
        <div class="example-cont">
            <h3>Tracking examples</h3>
            <div class="ex-cards">
                <div class="ex-txt">Compare your weekly and monthly expenses side by side, helping you identify spending trends and manage your budget effectively.</div>
                <div class="ex-img"><img src="/images/bar.png" alt=""></div>
            </div>
            <div class="ex-cards">
                <div class="ex-txt">See a breakdown of your spending categories, highlighting where most of your money goes.</div>
                <div class="ex-img"><img src="/images/pie.png" alt=""></div>
            </div>
            <div class="ex-cards">
                <div class="ex-txt">Track expense and savings patterns over time, giving you a clear view of financial progress.</div>
                <div class="ex-img"><img src="/images/line.png" alt=""></div>
            </div>
            <div class="ex-cards">
                <div class="ex-txt">Visualize how your spending is distributed across multiple categories at once. This chart helps you compare different expense types side by side and identify which categories take up the most of your budget.</div>
                <div class="ex-img"><img src="/images/radar.png" alt=""></div>
            </div>
        </div>
    </div>
</main>
<% if(locals.message){ %>
    <div class="success">
        <p><%= message %></p>
    </div>
    <% } %>

    <%- include("partials/footer.ejs") %>
</body>
<script>
    document.getElementById("amount").addEventListener("input", function (e) {
    let rawValue = e.target.value.replace(/[^0-9]/g, ""); 
    console.log(rawValue);
    if (rawValue === "") {
        e.target.value = "";
    } else {
        e.target.value = new Intl.NumberFormat("en-IN").format(rawValue);
    }
});

setTimeout(() => {
    const successMessage = document.querySelector(".success");
    if (successMessage) {
        successMessage.style.display = "none";
    }
}, 2000);
</script>
</html>